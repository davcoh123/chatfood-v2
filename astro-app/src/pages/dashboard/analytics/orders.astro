---
import DashboardLayout from '@/layouts/DashboardLayout.astro';
import OrdersAnalyticsPage from '@/components/react/analytics/OrdersAnalyticsPage';

// Get user from middleware locals
const user = (Astro.locals as any).user;

if (!user) {
  return Astro.redirect('/login?redirect=/dashboard/analytics/orders');
}
---

<DashboardLayout title="Analytics - Commandes">
  <OrdersAnalyticsPage client:only="react" />
</DashboardLayout>
