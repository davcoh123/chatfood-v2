---
import DashboardLayout from '@/layouts/DashboardLayout.astro';
import CataloguePage from '@/components/react/CataloguePage';

// Get user from middleware locals
const user = (Astro.locals as any).user;

if (!user) {
  return Astro.redirect('/login?redirect=/dashboard/catalogue');
}
---

<DashboardLayout title="Catalogue">
  <div class="space-y-6">
    <div>
      <h1 class="text-2xl md:text-3xl font-bold">Catalogue</h1>
      <p class="text-gray-500 mt-2">
        GÃ©rez vos produits et menus
      </p>
    </div>
    
    <CataloguePage client:only="react" userId={user.id} />
  </div>
</DashboardLayout>
