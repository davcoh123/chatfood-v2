import{u}from"./useQuery.js";import{d,s as f}from"./index.js";function g(i,s=!1){const{user:t}=d(),e=i||(t==null?void 0:t.id),a=u({queryKey:["whatsapp-integration",e,s],queryFn:async()=>{if(!e)return null;let r=f.from("whatsapp_integrations").select("*").eq("user_id",e);s||(r=r.eq("status","active"));const{data:o,error:n}=await r.order("updated_at",{ascending:!1}).maybeSingle();if(n)throw n;return o},enabled:!!e});return{integration:a.data,isLoading:a.isLoading,refetch:a.refetch}}export{g as u};
